This performance test allows the user to test written user functions. Reference data is provided in the Control_Data folder.

**Loading Raw Data and Fitting Function**

Go to the **Dataset** section on the control panel. Use the drop-down menu to select &quot;Oxidation.&quot; This loads the raw data matrix of oxidation data.

Go to the **Fit to function** drop-down menu. Select the function that you wish to test;

**Running the Fit:**

Input global parameters as shown.

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_2_Demo.png)

Ensure four local parameters are set.

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_3_Demo.png)

Go to the **Matrix Constraints** button.

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_4_Demo.png)

Hold all variables (K0 through K5) by checking the **Hold** field. When finished, press **Done**.

To perform the fit, click **Do Fit Now!** The program will run for a few minutes and generate the fitted data.

**Performance Comparison**

Now that the simulation has been performed, the separate spectra can be plotted and compared.

Go to the Data Browser field and select Oxidation_RowLoc

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_5_Demo.png)

Clicking on this brings up a set of data:

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_6_Demo.png)

This fitted data set corresponds to each individual spectrum of each mediator and myoglobin. The user is encouraged to compare these results to those of the direct fitting process as a performance check. If the fit was successful, these data sets should be the same.

To plot this data, go to

Windows ->New Graph…

Select Oxidation\_RowLocal in the left field, and Oxidation\_ROW\_FIT in the right field. Add the four mediator spectra as shown below.

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_7_Demo.png)

Click **Do It.**  This should generate a plot of each individual mediator and myoglobin:

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_8_Demo.png)

To plot the control data, go to the Control_Data folder. Plot Oxidation_RowLoc_Control vs. Oxidation_ROW_FIT_Control as described above. The resulting plot should match that generated by the user function.

To extract the Nernstian profiles, go to the **Feedback positions** field on the main control panel. Alter the field as shown below:

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_9_Demo.png)

Click **Do Fit!** This will generate Nernstian curve waves for both experimental data and fits. To plot this data, go to:

Windows -> New Graph…

Plot the waves Oxidation_PRef vs. EOx (Raw oxidation data), Oxidation_Fit_PFit vs. EOx_Fit (fitted oxidation data), Reduction_PRef vs. ERd (Raw reduction data), and Reduction_Fit_PFit vs. ERd_Fit (fitted reduction data).

The resulting graph should look like this:

![alt text](https://github.com/dap-biospec/G3F/blob/master/Demo/DemoPictures/Pic_10_Demo.png)

The upper trace (colored blue in the figure) is the oxidation, and the lower trace (colored red) is the reduction of myoglobin.

Go to Control_Data and plot Oxidation_PRef_Control vs. EOx_Control (Raw oxidation data), Oxidation_Fit_PFit_Control vs. EOx_Fit_Control (fitted oxidation data), Reduction_PRef_Control vs. ERd_Control (Raw reduction data), and Reduction_Fit_PFit_Control vs. ERd_Fit_Control (fitted reduction data).

If all results match those in the Control_Data folder, the selected user function is performing successfully. If there are any differences in data, consult the API and Manual as needed for troubleshooting.

